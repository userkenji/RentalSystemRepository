<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja" data-bs-theme="auto">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<link rel="icon" type="image/svg+xml" href="/img/favicon.png">
	<title>管理者ログイン - Online Rental System</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<link href="/css/normal.css" rel="stylesheet">
	
	<style>
		.login-container {
			min-height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
			background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
		}
		.login-card {
			box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
		}
	</style>
</head>

<body>

	<div class="login-container">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-md-6 col-lg-5">
					<div class="card login-card">
						<div class="card-body p-5">
							
							<!-- ロゴ・タイトル -->
							<div class="text-center mb-4">
								<img src="/img/icon_white.png" alt="ロゴ" style="width: 60px; margin-bottom: 15px; filter: brightness(0.3);">
								<h2 class="fw-bold mb-2">管理者ログイン</h2>
								<p class="text-muted">Online Rental System</p>
							</div>

							<!-- エラーメッセージ -->
							<div th:if="${error}" class="alert alert-danger alert-dismissible fade show" role="alert">
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle-fill me-2" viewBox="0 0 16 16">
									<path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
								</svg>
								<span th:text="${error}">ユーザーIDまたはパスワードが正しくありません</span>
								<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
							</div>

							<!-- ログアウトメッセージ -->
							<div th:if="${logout}" class="alert alert-success alert-dismissible fade show" role="alert">
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill me-2" viewBox="0 0 16 16">
									<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
								</svg>
								ログアウトしました
								<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
							</div>

							<!-- admin/login.html -->

							<form method="post" th:action="@{/admin/login}">
							    
							    <!-- ユーザーID（メールアドレス） -->
							    <div class="mb-3">
							        <label for="email" class="form-label">
							            管理者ID（メールアドレス）
							        </label>
							        <input type="text"
							               class="form-control form-control-lg"
							               id="email"
							               name="email"
							               placeholder="Emailを入力"
							               required autofocus>
							    </div>
							
							    <!-- パスワード -->
							    <div class="mb-4">
							        <label for="password" class="form-label">
							            パスワード
							        </label>
							        <input type="password"
							               class="form-control form-control-lg"
							               id="password"
							               name="password"
							               placeholder="パスワードを入力"
							               required>
							    </div>
							
							    <!-- CSRFトークン -->
							    <input type="hidden"
							           th:name="${_csrf.parameterName}"
							           th:value="${_csrf.token}" />
							
							    <!-- ログインボタン -->
							    <div class="d-grid mb-3">
							        <button type="submit" class="btn btn-warning btn-lg fw-bold">
							            ログイン
							        </button>
							    </div>
							
							</form>
							
							<!-- 区切り線 -->
							<hr class="my-4">

							<!-- ユーザーページへのリンク -->
							<div class="text-center">
								<p class="text-muted mb-2">一般ユーザーの方はこちら</p>
								<a href="/" class="btn btn-outline-secondary">
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-fill me-2" viewBox="0 0 16 16">
										<path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"/>
										<path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293z"/>
									</svg>
									ユーザーページへ
								</a>
							</div>

						</div>
					</div>

					<!-- セキュリティ注意書き -->
					<div class="text-center mt-3">
						<p class="text-white small">
							<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-shield-lock-fill me-1" viewBox="0 0 16 16">
								<path fill-rule="evenodd" d="M8 0c-.69 0-1.843.265-2.928.56-1.11.3-2.229.655-2.887.87a1.54 1.54 0 0 0-1.044 1.262c-.596 4.477.787 7.795 2.465 9.99a11.8 11.8 0 0 0 2.517 2.453c.386.273.744.482 1.048.625.28.132.581.24.829.24s.548-.108.829-.24a7 7 0 0 0 1.048-.625 11.8 11.8 0 0 0 2.517-2.453c1.678-2.195 3.061-5.513 2.465-9.99a1.54 1.54 0 0 0-1.044-1.263 63 63 0 0 0-2.887-.87C9.843.266 8.69 0 8 0m0 5a1.5 1.5 0 0 1 .5 2.915l.385 1.99a.5.5 0 0 1-.491.595h-.788a.5.5 0 0 1-.49-.595l.384-1.99A1.5 1.5 0 0 1 8 5"/>
							</svg>
							このページは管理者専用です。不正アクセスは記録されます。
						</p>
					</div>

				</div>
			</div>
		</div>
	</div>

	<script src="/js/bootstrap.bundle.min.js"></script>

</body>

</html>